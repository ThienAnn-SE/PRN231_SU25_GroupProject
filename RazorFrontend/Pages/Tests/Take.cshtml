@page
@model RazorFrontend.Pages.Tests.TakeModel
@{
    ViewData["Title"] = "Take MBTI Test";
}

<div class="container mt-5">
    <h2 class="text-center mb-4">🧠 MBTI Test</h2>

    @if (!string.IsNullOrEmpty(Model.ErrorMessage))
    {
        <div class="alert alert-danger">@Model.ErrorMessage</div>
    }

    <form method="post" id="testForm">
        <div class="mb-3">
            <p><strong>Answer all 50 questions by choosing the option that suits you best.</strong></p>
        </div>

        @for (int i = 0; i < Model.Questions.Count; i++)
        {
            var question = Model.Questions[i];
            <div class="mb-4 p-3 border rounded shadow-sm bg-light">
                <p class="fw-semibold">Question @(i + 1): @question.Text</p>
                @for (int j = 0; j < question.Answers.Count; j++)
                {
                    var answer = question.Answers[j];
                    <div class="form-check">
                        <input class="form-check-input"
                               type="radio"
                               name="AnswerIds[@i]"
                               value="@answer.Id"
                               required />
                        <label class="form-check-label">@answer.Text</label>
                    </div>
                }
            </div>
        }

        <div class="text-end mt-4">
            <button type="submit" class="btn btn-primary px-4">Submit</button>
        </div>
    </form>
</div>
